<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>PGSnap ! PostgreSQL Performance Utility</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
</head>
<body>

<div id="wrapper">
<div id="content">
<div id="menu">
<ul>
<li><a href="#about">About</a></li>
<li><a href="#demo" title="PGSnap Demo">Demos</a></li>
<li><a href="#download" title="Download">Download</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#usage" title="Usage">Usage</a></li>
<li><a href="#todo" title="To Do">To Do</a></li>
<li><a href="#contact" title="contact pgsnap author">Contact</a></li>
</ul> 
</div>

<h1>PGSnap</h1>
<a name="about"/>
<div id="about">
<p>
pgsnap is a PostgreSQL tool that mimics orasnap performance report tool for Oracle.
</p>
<p>
It's written in PHP but one uses it on the command line. Many HTML files, aka reports, are written on a folder. You only need a web browser to read the complete report.
</p>
</div>

<a name="demo"></a>
<div class="entry">
<h2>Demos</h2>
<p>
Here is an example of the output:
<ul>
	<li><a href="pgbench_snap_20120930/">Release 0.8.0</a></li>
	<li><a href="pagila2_snap_20111029/">Release 0.7.0</a></li>
	<li><a href="fluxbb_snap_20100513/">Release 0.6.0</a></li>
</ul>
</p>
</div>
	
<hr/>	
<a name="download"></a>
<div class="entry">
   <h2>Download</h2>			    
<p class="dl"><a onclick="pageTracker._trackPageview('/pgsnap-0.9.0.tar.gz');"
href="https://github.com/downloads/dalibo/pgsnap/pgsnap-0.9.0.tar.gz">pgsnap-0.9.0</a></p>
<p class="dl"><a onclick="pageTracker._trackPageview('/pgsnap-0.8.0.tar.gz');"
href="https://github.com/downloads/dalibo/pgsnap/pgsnap-0.8.0.tar.gz">pgsnap-0.8.0</a></p>
<p class="dl"><a onclick="pageTracker._trackPageview('/pgsnap-0.7.0.tar.gz');"
href="http://pgfoundry.org/frs/download.php/3163/pgsnap-0.7.0.tar.gz">pgsnap-0.7.0</a></p>
</div>

<hr/>
<a name="install"></a>
<div class="entry" >
	<h2>Install</h2>
	<p>To install pgsnap, you can untar the pgsnap tarball anywhere you want.</p>
	<p>You'll need the CLI release of <a href="http://www.php.net/">PHP</a>.
	For example, on Debian/Ubuntu, you should have:</p>
	<p class="codebit">apt-get install php5-pgsql php5-cli</p>
	<p><b>Flash graphics with Open Flash Chart</b><br/>
	You can have flash graphics for databases' size, tablespaces's size and
	tables's size. To activate the graphs, you need to download Open Flash Chart
	PHP library from its <a
	href="http://teethgrinder.co.uk/open-flash-chart/">website</a>.
	Then, you have to extract four files: open_flash_chart_object.php,
	open-flash-chart.php, open-flash-chart.swf, and swfobject.js. pgsnap needs
	to find these files in the external directory.</p>
</div>
	
<hr/>
<a name="usage"></a>
<div class="entry">
	<h2>Usage</h2>

	<p class="codebit">./pgsnap [OPTIONS]... [DBNAME]</p>

	<h3>General options</h3>
	<dl>
		<dt><p class="codebit">-a</p>, <p class="codebit">--all</p></p></dt>
		<dd>build a report for all databases on the PostgreSQL server</dd>
		<dt><p class="codebit">-d DBNAME</p></dt>
		<dd>specify database name to connect to (default: your login name)</dd>
		<dt><p class="codebit">-o outputdir</p></dt>
		<dd>specify directory name where the reports will be created (default: the database name followed by 'snap_', followed by the date and time)</dd>
		<dt><p class="codebit">-S</p>, <p class="codebit">--without-sysobjects</p></p></dt>
		<dd>get report without system objects informations</dd>
		<dt><p class="codebit">--delete-if-exists</p></p></dt>
		<dd>delete output directory if it already exists</dd>
		<dt><p class="codebit">--help</p></dt>
		<dd>show this help, then exit</dd>
		<dt><p class="codebit">--version</p></dt>
		<dd>output version information, then exit</dd>
	</dl>

	<h3>Connection options</h3>
	<dl>
		<dt><p class="codebit">-h HOSTNAME</p></dt>
		<dd>database server host or socket directory (default: "localhost")</dd>
		<dt><p class="codebit">-p PORT</p></dt>
		<dd>database server port (default: "5432")</dd>
		<dt><p class="codebit">-U NAME</p></dt>
		<dd>database user name (default: your login name)</dd>
		<dt><p class="codebit">-W</p></dt>
		<dd>prompt for password</dd>
		<dt><p class="codebit">-w</p></dt>
		<dd>do NOT prompt for password</dd>
	</dl>
</div>

<hr/>
<a name="todo"></a>
<div class="entry">
	<h2>To Do</h2>
	<ul>
		<li>0.9.0
		<ul>
			<li>add an argument to -a option... this argument is the
			complete path to a folder which will contain every reports
			and an index.html allowing to navigate from one to the
			other</li>
			<li>add a --server-only option, to get a view of all DB, no
			specific DB objects</li>
		</ul></li>
		<li>specific orasnap
		<ul>
			<li>FK without indexes : owner, constraint name, column
			name</li>
			<li>Tablespace : list default tablespace for each user</li>
			<li>Disabled constraints : owner, table, constraint, type,
			status</li>
		</ul></li>
		<li>HTML interface
		<ul>
            <li>Replace openflash with flotr2</li>
			<li>jQuery support: sort in tables, filtering</li>
			<li>add a way to filter locks report (by dbname, by lock
			mode)</li>
		</ul></li>
	</ul>
<!--
	<p class="note">On peut meme ecrire des notes.</p>
-->
</div>

<div id="footer">
	<p>Copyright &copy; Guillaume Lelarge. Powered by <a href="http://www.dalibo.org" title="dalibo.org">Dalibo</a>
	</p>
</div><!-- end of footer -->
</div><!-- end of content -->
</div><!-- end of wrapper -->
</body>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4342009-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</html>
