<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>pgSnap ! by dalibo</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">pgSnap !</h1>
        <p class="header">PostgreSQL performance utility</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/dalibo/pgsnap/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/dalibo/pgsnap/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/dalibo/pgsnap">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/dalibo">dalibo</a></p>


      </header>
      <section>
        <h1>Building reports of your database activity</h1>

<blockquote>
<p>pgSnap is a PostgreSQL tool that mimics orasnap performance report tool for Oracle(R).
It's written in PHP but one uses it on the command line. 
Many HTML files, aka reports, are written on a folder. 
You only need a web browser to read the complete report.</p>
</blockquote>

<h1>Demo</h1>

<p>Here is an example of the performance report generated by pgSnap :</p>

<p><a href="http://pgsnap.projects.pgfoundry.org/pgbench_snap_20120930">http://pgsnap.projects.pgfoundry.org/pgbench_snap_20120930</a></p>

<h1>Install</h1>

<p>To install pgsnap, you can untar the pgsnap tarball anywhere you want. You'll need the CLI release of PHP. For example, on Debian/Ubuntu, you will need to run :</p>

<pre><code>apt-get install php5-pgsql php5-cli
</code></pre>

<p><strong>Flash graphics with Open Flash Chart</strong></p>

<p>You can have flash graphics for databases' size, tablespaces's size and tables's size. To activate the graphs, you need to download Open Flash Chart PHP library from its website. Then, you have to extract four files: open_flash_chart_object.php, open-flash-chart.php, open-flash-chart.swf, and swfobject.js. pgsnap needs to find these files in the external directory.</p>

<h1>How to use</h1>

<pre><code>./pgsnap [OPTIONS]... [DBNAME]
</code></pre>

<h3>General options</h3>

<p><code>-a, --all</code> :
build a report for all databases on the PostgreSQL server</p>

<p><code>-d DBNAME</code> :
specify database name to connect to (default: your login name)</p>

<p><code>-o OUTPUTDIR</code> : specify directory name where the reports will be created (default: the database name followed by 'snap_', followed by the date and time)</p>

<p><code>-S, --without-sysobjects</code> : get report without system objects informations</p>

<p><code>--delete-if-exists</code> : delete output directory if it already exists</p>

<p><code>--help</code> : show this help, then exit</p>

<p><code>--version</code> : output version information, then exit</p>

<h3>Connection options</h3>

<p><code>-h HOSTNAME</code> :  database server host or socket directory (default: "localhost")</p>

<p><code>-p PORT</code> :  database server port (default: "5432")</p>

<p><code>-U NAME</code> :  database user name (default: your login name)</p>

<p><code>-W</code> : prompt for password</p>

<p><code>-w</code> : do NOT prompt for password</p>

<h1>To Do</h1>

<h3>Planned for 0.9.0</h3>

<ul>
<li>add an argument to -a option... this argument is the complete path to a folder which will contain every reports and an index.html allowing to navigate from one to the other</li>
<li>add a --server-only option, to get a view of all DB, no specific DB objects</li>
</ul><h3>Specific orasnap features</h3>

<ul>
<li>FK without indexes : owner, constraint name, column name</li>
<li>Tablespace : list default tablespace for each user</li>
<li>Disabled constraints : owner, table, constraint, type, status</li>
</ul><h3>HTML interface</h3>

<ul>
<li>Replace openflash with flotr2</li>
<li>jQuery support: sort in tables, filtering</li>
<li>add a way to filter locks report (by dbname, by lock mode)</li>
</ul><h1>Authors and Contributors</h1>

<p>This project is lead by Guillaume Lelarge and powered by Dalibo.</p>

<p>The source code is available under the BSD Licence.</p>

<h1>Support and Contact</h1>

<p>Having trouble with pgSnap ? Please contact <a href="mailto:support@dalibo.com">support@dalibo.com</a> and weâ€™ll help you sort it out.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-637331-10");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>